{"version":3,"file":"js/947.8f582503.js","mappings":"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","sources":["webpack://wore-house-orders/./src/views/FmenHotMap.vue?83e3","webpack://wore-house-orders/src/views/FmenHotMap.vue","webpack://wore-house-orders/./src/views/FmenHotMap.vue?5399","webpack://wore-house-orders/./src/views/FmenHotMap.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"WareHouseMain\"},[_vm._m(0),_c('div',{staticClass:\"input-card-box\"},[_c('div',{staticClass:\"input-item\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":function($event){return _vm.toggleScale()}}}),_vm._v(\"比例尺 \")]),_c('div',{staticClass:\"input-item\"},[_c('input',{attrs:{\"type\":\"checkbox\",\"id\":\"toolbar\"},on:{\"click\":function($event){return _vm.toggleToolBar()}}}),_vm._v(\"工具条 \")]),_c('div',{staticClass:\"mapImg\"},[(_vm.isOrdMap)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoadLayer}},[_vm._v(\"打开卫星图层\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.removeSatellite}},[_vm._v(\"关闭卫星图层\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-box\"},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"container\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 仓库图层 -->\r\n  <div class=\"WareHouseMain\">\r\n    <div class=\"map-box\">\r\n      <div id=\"container\" class=\"container\"></div>\r\n    </div>\r\n    <!-- 工具条start -->\r\n    <div class=\"input-card-box\">\r\n      <div class=\"input-item\">\r\n        <input type=\"checkbox\" @click=\"toggleScale()\" />比例尺\r\n      </div>\r\n      <div class=\"input-item\">\r\n        <input type=\"checkbox\" id=\"toolbar\" @click=\"toggleToolBar()\" />工具条\r\n      </div>\r\n      <div class=\"mapImg\">\r\n        <el-button type=\"primary\" v-if=\"isOrdMap\" @click=\"addRoadLayer\"\r\n          >打开卫星图层</el-button\r\n        >\r\n        <el-button type=\"primary\" v-else @click=\"removeSatellite\"\r\n          >关闭卫星图层</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n    <!-- 工具条end -->\r\n  </div>\r\n</template>\r\n<script type=\"text/javascript\">\r\nwindow._AMapSecurityConfig = {\r\n  securityJsCode: \"5885da62a0da2ca7cf5d212e6b671140\",\r\n};\r\n</script>\r\n<script type=\"text/javascript\" src=\"https://webapi.amap.com/maps?v=1.4.15&key=84f61226c5c3819011a303ef5c321e5f&plugin=AMap.MouseTool,AMap.HawkEye,AMap.DistrictSearch,AMap.Scale,AMap.ToolBar,AMap.ControlBar,AMap.ImageLayer\"></script>\r\n<script src=\"https://webapi.amap.com/loca?v=1.3.2&key=84f61226c5c3819011a303ef5c321e5f\"></script>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"WareHouseMain\",\r\n  data() {\r\n    return {\r\n      map: \"\", //地图实例\r\n      lang: \"zh_cn\",\r\n      // 弹框内容\r\n      zoom: 10,\r\n      title: \"\",\r\n      content: [],\r\n      infoWindow: null,\r\n      markers: [],\r\n\r\n      //工具条\r\n      scale: null,\r\n      isScale: false,\r\n      toolBar: null,\r\n      isToolBar: false,\r\n      overView: null,\r\n      isoverView: false,\r\n\r\n      satellite: null,\r\n      isOrdMap: true,\r\n\r\n      // 火灾数据\r\n      newfireData: [],\r\n      layer: null, //热力图层\r\n      list: [],\r\n    };\r\n  },\r\n  components: {},\r\n\r\n  computed: {\r\n    ...mapState([\"fireData\"]),\r\n  },\r\n\r\n  mounted() {\r\n    this.initMap();\r\n\r\n    this.addMarker();\r\n  },\r\n  async created() {\r\n    // var res = null;\r\n    console.log(this.fireData);\r\n  },\r\n\r\n  methods: {\r\n    // 118.504165, 39.02162\r\n    initMap() {\r\n      //初始化地图\r\n      this.map = new AMap.Map(\"container\", {\r\n        resizeEnable: true,\r\n        zoom: this.zoom, //级别\r\n        zooms: [7, 30],\r\n        center: [102.379164, 27.853739], //中心点坐标\r\n        viewMode: \"3D\", //使用3D视图\r\n        lang: this.lang,\r\n        mapStyle: \"amap://styles/macaron\",\r\n        infoWindow: null,\r\n      });\r\n\r\n      this.scale = new AMap.Scale({\r\n        visible: false,\r\n      });\r\n      this.map.addControl(this.scale);\r\n\r\n      this.toolBar = new AMap.ToolBar({\r\n        visible: false,\r\n        position: {\r\n          top: \"110px\",\r\n          right: \"40px\",\r\n        },\r\n      });\r\n      this.map.addControl(this.toolBar);\r\n\r\n      // this.overView = new AMap.HawkEye({\r\n      //   visible: true,\r\n      // });\r\n      // this.map.addControl(this.overView);\r\n    },\r\n\r\n    toggleScale() {\r\n      if (!this.isScale) {\r\n        this.isScale = true;\r\n        this.scale.show();\r\n      } else {\r\n        this.isScale = false;\r\n        this.scale.hide();\r\n      }\r\n    },\r\n    toggleToolBar() {\r\n      if (!this.isToolBar) {\r\n        this.isToolBar = true;\r\n        this.toolBar.show();\r\n      } else {\r\n        this.isToolBar = false;\r\n        this.toolBar.hide();\r\n      }\r\n    },\r\n\r\n    // 添加工业遗产点集\r\n    async addMarker() {\r\n      this.$message({\r\n        message: \"火灾救援人员热力图绘制中，初次加载可能用时较长\",\r\n      });\r\n\r\n      this.newfireData = this.fireData.map((ele) => {\r\n        return {\r\n          ...ele,\r\n          coordinate: [ele.jing, ele.wei],\r\n        };\r\n      });\r\n\r\n      this.list = this.newfireData.map((ele) => {\r\n        return {\r\n          coordinate: ele.coordinate,\r\n          count: ele.fmen + 30,\r\n        };\r\n      });\r\n\r\n      this.layer = new Loca.HeatmapLayer({\r\n        map: this.map,\r\n        fitView: true,\r\n      });\r\n      console.log(this.list);\r\n      this.layer.setData(this.list, {\r\n        lnglat: \"coordinate\",\r\n        value: \"count\",\r\n      });\r\n\r\n      //  radius为热力半径，由于初期数据未录入，故设置的较大，默认为16，后续数据全部录入后再进行修改。\r\n      this.layer.setOptions({\r\n        style: {\r\n          radius: 40,\r\n          color: {\r\n            0.5: \"#2c7bb6\",\r\n            0.65: \"#abd9e9\",\r\n            0.7: \"#ffffbf\",\r\n            0.9: \"#fde468\",\r\n            1.0: \"#d7191c\",\r\n          },\r\n        },\r\n      });\r\n\r\n      this.layer.render();\r\n    },\r\n\r\n    //渲染遗产弹框\r\n    createInfoWindow(title, content) {\r\n      // console.log(\"11111111\");\r\n      var info = document.createElement(\"div\");\r\n      info.className = \"custom-info input-card content-window-card\";\r\n\r\n      //可以通过下面的方式修改自定义窗体的宽高\r\n      //info.style.width = \"400px\";\r\n      // 定义顶部标题\r\n      var top = document.createElement(\"div\");\r\n      var titleD = document.createElement(\"div\");\r\n      var closeX = document.createElement(\"img\");\r\n      top.className = \"info-top\";\r\n      titleD.innerHTML = title;\r\n      closeX.src = \"https://webapi.amap.com/images/close2.gif\";\r\n      closeX.onclick = this.closeInfoWindow;\r\n\r\n      top.appendChild(titleD);\r\n      top.appendChild(closeX);\r\n      info.appendChild(top);\r\n\r\n      // 定义中部内容\r\n      var middle = document.createElement(\"div\");\r\n      middle.className = \"info-middle\";\r\n      middle.style.backgroundColor = \"white\";\r\n      middle.innerHTML = content;\r\n\r\n      info.appendChild(middle);\r\n\r\n      // 定义底部内容\r\n      var bottom = document.createElement(\"div\");\r\n      bottom.className = \"info-bottom\";\r\n      bottom.style.position = \"relative\";\r\n      bottom.style.top = \"0px\";\r\n      bottom.style.margin = \"0 auto\";\r\n      var sharp = document.createElement(\"img\");\r\n      sharp.src = \"https://webapi.amap.com/images/sharp.png\";\r\n      bottom.appendChild(sharp);\r\n      info.appendChild(bottom);\r\n      return info;\r\n    },\r\n\r\n    // 关闭遗产弹框\r\n    closeInfoWindow() {\r\n      this.map.clearInfoWindow();\r\n      // this.searchIndustry = null;\r\n    },\r\n\r\n    // 卫星地图start\r\n    addRoadLayer() {\r\n      this.isOrdMap = false;\r\n      this.satellite = new AMap.TileLayer.Satellite();\r\n      this.map.add(this.satellite);\r\n    },\r\n\r\n    // 关闭卫星地图\r\n    removeSatellite() {\r\n      this.isOrdMap = true;\r\n      this.map.remove(this.satellite);\r\n    },\r\n\r\n    // 卫星地图end\r\n  },\r\n};\r\n</script>\r\n\r\n<style >\r\n/* 弹框样式 */\r\n.content-window-card {\r\n  position: relative;\r\n  box-shadow: none;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: auto;\r\n  padding: 0;\r\n}\r\n\r\n.content-window-card p {\r\n  height: 2rem;\r\n}\r\n\r\n.custom-info {\r\n  border: solid 1px silver;\r\n  width: 280px;\r\n  background-color: white;\r\n}\r\n\r\ndiv.info-top {\r\n  position: relative;\r\n  background: none repeat scroll 0 0 #f9f9f9;\r\n  border-bottom: 1px solid #ccc;\r\n  border-radius: 5px 5px 0 0;\r\n}\r\n\r\ndiv.info-top div {\r\n  display: inline-block;\r\n  color: #333333;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  line-height: 31px;\r\n  padding: 0 10px;\r\n}\r\n\r\ndiv.info-top img {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  transition-duration: 0.25s;\r\n}\r\n\r\ndiv.info-middle {\r\n  font-size: 12px;\r\n  padding: 10px 6px;\r\n  line-height: 20px;\r\n}\r\ndiv.info-middle img {\r\n  width: 100px;\r\n  height: 70px;\r\n  padding-bottom: 10px;\r\n}\r\n\r\ndiv.info-bottom {\r\n  height: 0px;\r\n  width: 100%;\r\n  clear: both;\r\n  text-align: center;\r\n}\r\n\r\ndiv.info-bottom img {\r\n  position: relative;\r\n  z-index: 104;\r\n}\r\n\r\nspan {\r\n  margin-left: 5px;\r\n  font-size: 11px;\r\n}\r\n\r\n.info-middle img {\r\n  float: left;\r\n  margin-right: 6px;\r\n}\r\n\r\n.xiangxi {\r\n  color: #555;\r\n}\r\n\r\n.openMap {\r\n  margin: 0;\r\n  cursor: pointer;\r\n  color: #555;\r\n  user-select: none;\r\n}\r\n\r\n/*工具条样式*/\r\n.input-card-box {\r\n  width: 130px;\r\n  top: 10px;\r\n  left: 10px;\r\n  bottom: auto;\r\n  z-index: 999;\r\n  position: absolute;\r\n  top: 85px;\r\n  left: 15px;\r\n  background-color: #fff;\r\n  background-clip: border-box;\r\n  border-radius: 0.25rem;\r\n  font-size: 12px;\r\n  border-width: 0;\r\n  border-radius: 0.4rem;\r\n  box-shadow: 0 2px 6px 0 rgba(114, 124, 245, 0.5);\r\n  padding: 8px 8px;\r\n}\r\n.input-card-box .input-item {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 30px;\r\n  /* line-height: 30px; */\r\n}\r\n\r\n.amap-toolbar {\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n}\r\n.amap-scalecontrol {\r\n  position: fixed;\r\n  /* position: absolute; */\r\n  bottom: 15px;\r\n  left: 15px !important;\r\n}\r\n\r\n.WareHouseMain .mapImg {\r\n  /* width: 350px; */\r\n  /* height: 350px; */\r\n  position: fixed;\r\n  top: 85px;\r\n  right: 90px;\r\n\r\n  /* background-color: white; */\r\n  /* background-clip: border-box;\r\n  border-radius: 0.25rem; */\r\n  font-size: 12px;\r\n  /* border-width: 0;\r\n  border-radius: 0.4rem;\r\n  box-shadow: 0 2px 6px 0 rgba(114, 124, 245, 0.5);\r\n  padding: 8px 8px; */\r\n}\r\n.WareHouseMain .mapImg span {\r\n  margin-right: 15px;\r\n}\r\n.WareHouseMain .mapImg img {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FmenHotMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FmenHotMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FmenHotMap.vue?vue&type=template&id=d1969450&\"\nimport script from \"./FmenHotMap.vue?vue&type=script&lang=js&\"\nexport * from \"./FmenHotMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FmenHotMap.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","on","$event","toggleScale","_v","toggleToolBar","addRoadLayer","removeSatellite","staticRenderFns","name","data","map","lang","zoom","title","content","infoWindow","markers","scale","isScale","toolBar","isToolBar","overView","isoverView","satellite","isOrdMap","newfireData","layer","list","components","computed","mounted","initMap","addMarker","async","console","log","fireData","methods","AMap","Map","resizeEnable","zooms","center","viewMode","mapStyle","Scale","visible","addControl","ToolBar","position","top","right","hide","show","$message","message","coordinate","ele","jing","wei","count","fmen","Loca","HeatmapLayer","fitView","setData","lnglat","value","setOptions","style","radius","color","createInfoWindow","info","document","createElement","className","titleD","closeX","innerHTML","src","onclick","closeInfoWindow","appendChild","middle","backgroundColor","bottom","margin","sharp","clearInfoWindow","TileLayer","Satellite","add","remove","component"],"sourceRoot":""}